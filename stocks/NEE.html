
<html>
<head>
    <meta charset="utf-8">
    <title>NEE ì¬ë¬´ ìš”ì•½</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: Arial; padding: 20px; }
        h1 { margin-bottom: 10px; }
        h2 { margin-top: 40px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: right; }
        th { background: #f5f5f5; }
        td:first-child, th:first-child { text-align: left; }
    </style>
</head>
<body>

<h1>NEE ì¬ë¬´ ìš”ì•½</h1>

<h2>ğŸ“Š ìµœê·¼ 2ê°œë…„ ë¶„ê¸° ì¬ë¬´</h2>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë§¤ì¶œì•¡</th>
      <th>ìˆœì´ìµ</th>
      <th>ì˜ì—…ì´ìµ</th>
      <th>ë§¤ì¶œ ì„±ì¥ë¥  (QoQ)</th>
      <th>ìˆœì´ìµ ì„±ì¥ë¥  (QoQ)</th>
      <th>ì˜ì—…ì´ìµë¥  (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2025-09-30</th>
      <td>79.7ì–µ</td>
      <td>24.4ì–µ</td>
      <td>23.8ì–µ</td>
      <td>19%</td>
      <td>20%</td>
      <td>30%</td>
    </tr>
    <tr>
      <th>2025-06-30</th>
      <td>67.0ì–µ</td>
      <td>20.3ì–µ</td>
      <td>18.9ì–µ</td>
      <td>7%</td>
      <td>143%</td>
      <td>28%</td>
    </tr>
    <tr>
      <th>2025-03-31</th>
      <td>62.5ì–µ</td>
      <td>8.3ì–µ</td>
      <td>22.2ì–µ</td>
      <td>16%</td>
      <td>-31%</td>
      <td>36%</td>
    </tr>
    <tr>
      <th>2024-12-31</th>
      <td>53.9ì–µ</td>
      <td>12.0ì–µ</td>
      <td>9.1ì–µ</td>
      <td>-29%</td>
      <td>-35%</td>
      <td>17%</td>
    </tr>
    <tr>
      <th>2024-09-30</th>
      <td>75.7ì–µ</td>
      <td>18.5ì–µ</td>
      <td>26.2ì–µ</td>
      <td></td>
      <td></td>
      <td>35%</td>
    </tr>
  </tbody>
</table>

<h2>ğŸ“ˆ ìµœê·¼ 5ê°œë…„ ì—°ê°„ ì¬ë¬´</h2>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ë§¤ì¶œì•¡</th>
      <th>ìˆœì´ìµ</th>
      <th>ì˜ì—…ì´ìµ</th>
      <th>ì‰ì—¬í˜„ê¸ˆíë¦„</th>
      <th>ë§¤ì¶œ ì„±ì¥ë¥  (YoY)</th>
      <th>ìˆœì´ìµ ì„±ì¥ë¥  (YoY)</th>
      <th>ì˜ì—…ì´ìµë¥  (%)</th>
      <th>FCF ë§ˆì§„ (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2024-12-31</th>
      <td>247.5ì–µ</td>
      <td>69.5ì–µ</td>
      <td>71.3ì–µ</td>
      <td>47.5ì–µ</td>
      <td>-12%</td>
      <td>-5%</td>
      <td>29%</td>
      <td>19%</td>
    </tr>
    <tr>
      <th>2023-12-31</th>
      <td>281.1ì–µ</td>
      <td>73.1ì–µ</td>
      <td>98.3ì–µ</td>
      <td>17.5ì–µ</td>
      <td>34%</td>
      <td>76%</td>
      <td>35%</td>
      <td>6%</td>
    </tr>
    <tr>
      <th>2022-12-31</th>
      <td>209.6ì–µ</td>
      <td>41.5ì–µ</td>
      <td>35.6ì–µ</td>
      <td>-14.8ì–µ</td>
      <td>23%</td>
      <td>16%</td>
      <td>17%</td>
      <td>-7%</td>
    </tr>
    <tr>
      <th>2021-12-31</th>
      <td>170.7ì–µ</td>
      <td>35.7ì–µ</td>
      <td>28.4ì–µ</td>
      <td>-2.8ì–µ</td>
      <td></td>
      <td></td>
      <td>17%</td>
      <td>-2%</td>
    </tr>
  </tbody>
</table>

<h2>ğŸ“Š ì¬ë¬´ ì°¨íŠ¸</h2>

<div id="chart-revenue" style="height:400px;"></div>
<div id="chart-income" style="height:400px;"></div>
<div id="chart-margin" style="height:400px;"></div>
<div id="chart-fcf" style="height:400px;"></div>

<script>
fetch("NEE_chart.json")
.then(r => r.json())
.then(d => {

    const annotations = [];

    for (let i = 1; i < d.years.length; i++) {
        const pct = d.revenue_yoy[i];
        const yPrev = d.revenue[i - 1];
        const yCurr = d.revenue[i];

        if (pct == null || yPrev == null || yCurr == null) continue;

        annotations.push({
            x: d.years[i],
            y: Math.max(yPrev, yCurr) * 1.08,
            text: `${pct > 0 ? "â–²" : "â–¼"} ${pct.toFixed(1)}%`,
            showarrow: false,
            font: {
                size: 16,
                color: pct > 0 ? "red" : "blue", // Plotly ê¸°ë³¸ ì»¬ëŸ¬
                family: "Arial Black"
            }
        });
    }


    Plotly.newPlot("chart-revenue", [{
        x: d.years,
        y: d.revenue,
        type: "bar",
        width: 0.4,   // â­ í•µì‹¬ (ê¸°ë³¸ê°’ â‰ˆ 0.8)
        textposition: "outside"
    }], {
        title: {
            text: "ë§¤ì¶œ ì¶”ì´",
            x: 0.5,
            font: { size: 20 }
        },
        margin: { t: 60 },
        xaxis: {
            type: "category", // â­ í•µì‹¬
            fixedrange: true  // â† ë“œë˜ê·¸ ë¹„í™œì„±
        },
        yaxis: { fixedrange: true },   // â† ë“œë˜ê·¸ ë¹„í™œì„±
        annotations: annotations   // â­ í•µì‹¬
        });

    Plotly.newPlot("chart-income", [
        { x: d.years, y: d.net_income, type: "line", name: "ìˆœì´ìµ" },
        { x: d.years, y: d.operating_income, type: "line", name: "ì˜ì—…ì´ìµ" }
    ], {
        title: {
            text: "ìˆœì´ìµ VS ì˜ì—…ì´ìµ",
            x: 0.5,
            font: { size: 20 }
        },
        margin: { t: 60 },
        xaxis: { fixedrange: true },  // â† ë“œë˜ê·¸ ë¹„í™œì„±
        yaxis: { fixedrange: true }   // â† ë“œë˜ê·¸ ë¹„í™œì„±
      });

    Plotly.newPlot("chart-margin", [{
        x: d.years,
        y: d.op_margin,
        type: "line"
    }], {
        title: {
            text: "ì˜ì—…ì´ìµë¥  (%)",
            x: 0.5,
            font: { size: 20 }
        },
        margin: { t: 60 },
        xaxis: { fixedrange: true },  // â† ë“œë˜ê·¸ ë¹„í™œì„±
        yaxis: {
            ticksuffix: "%",
            fixedrange: true
        }
    });

    Plotly.newPlot("chart-fcf", [{
        x: d.years,
        y: d.fcf,
        type: "bar",
        width: 0.4   // â­ í•µì‹¬ (ê¸°ë³¸ê°’ â‰ˆ 0.8)
    }], {
        title: {
            text: "Free Cash Flow",
            x: 0.5,
            font: { size: 20 }
        },
        margin: { t: 60 },
        xaxis: {
            type: "category", // â­ í•µì‹¬
            fixedrange: true  // â† ë“œë˜ê·¸ ë¹„í™œì„±
        },
        yaxis: { fixedrange: true }  // â† ë“œë˜ê·¸ ë¹„í™œì„±
        });
});
</script>

</body>
</html>
